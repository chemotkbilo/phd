%%
%% This is file `phd-lists.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% phd-lists.dtx  (with options: `LISTS')
%% ----------------------------------------------------------------
%% phd --- A package to beautify documents.
%% E-mail: yannislaz@gmail.com
%% Released under the LaTeX Project Public License v1.3c or later
%% See http://www.latex-project.org/lppl.txt
%% ----------------------------------------------------------------



\NeedsTeXFormat{LaTeX2e}[1994/12/01]%
\RequirePackage[2014/05/01]{latexrelease}
\ProvidesFile{phd-lists}[2015/1/13 v1.0 less preamble (YL)]%
\ExplSyntaxOn
\let\ltxtoday\today
\let\phd_hang_from:nn \@hangfrom
\newif\if@ltxcompat \@ltxcompatfalse
\ExplSyntaxOff

\RequirePackage{enumerate}
\ExplSyntaxOn
\clist_gset:Nn \phd_enumerate_list_levels_clist {i,ii,iii,iv,v,vi}
\cs_new:Npn  \phd_create_enumerate_list_keys #1
  {
  \cxset
    {
      enumerate~numbering#1/.is~choice,

      enumerate~numbering#1/arabic/.code                        =
        \cs_gset:cpn {theenum#1}
          {
            \@arabic \cs:w c@enum#1 \cs_end:\relax
          },

      enumerate~numbering#1/alpha/.code                         =
        \cs_gset:cpn {theenum#1}
          {
             \exp_after:wN \alphalph \cs:w c@enum#1 \cs_end: \relax
          },

      enumerate~numbering#1/alph/.code                          =
        \cs_gset:cpn {theenum#1}
          {
            \exp_after:wN \alphalph {\cs:w c@enum#1 \cs_end: \relax}
          },

      enumerate~numbering#1/Alpha/.code                         =
        \cs_gset:cpn {theenum#1} {
          \exp_after:wN \AlphAlph{\cs:w c@enum#1 \cs_end:}

           \relax
        },

      enumerate~numbering#1/roman/.code                         =
        \cs_gset:cpn {theenum#1} {\@roman \cs:w c@enum#1 \cs_end:\relax},

      enumerate~numbering#1/Roman/.code                         =
        \cs_gset:cpn {theenum#1} {\@Roman {\cs:w c@enum#1 \cs_end:\relax}},

      enumerate~numbering#1/none/.code                          =
        \cs_gset:cpn {theenum#1} {},


      enumerate~leftmargin#1/.code                             = {\global\setlength\leftmargini{##1}},
      list#1~topsep/.store                                     = list#1topsep@cx,
      list#1~partopsep/.store                                  = list#1partopsep@cx,
      list#1~itemsep/.store                                    = list#1itemsep@cx,
      list#1~parsep/.store                                     = list#1parsep@cx,
      list#1~parindent/.store                                  = list#1parindent@cx,
  }
}

\clist_map_inline:Nn \phd_enumerate_list_levels_clist
  {
    \phd_create_enumerate_list_keys {#1}
  }

\ExplSyntaxOff
\cxset{
  enumerate labeli punctuation/.store in=\enumeratepunctuationi@cx,
  enumerate labeli/.is choice,
  enumerate labeli/brackets/.code={\renewcommand\labelenumi{(\theenumi\enumeratepunctuationi@cx)}},
  enumerate labeli/square brackets/.code={\renewcommand\labelenumi{[\theenumi\enumeratepunctuationi@cx]}},
  enumerate labeli/right bracket/.code={\renewcommand\labelenumi{\theenumi\enumeratepunctuationi@cx)}},
  enumerate label left/.store in=\enumeratelabelleft@cx,
  enumerate label right/.code=\renewcommand\labelenumi{\enumeratelabelleft@cx\theenumi\enumeratepunctuationi@cx#1},
}
\cxset{compact1/.style={%
  enumerate numberingi=alpha,
  enumerate numberingii=Roman,
  enumerate numberingiii=alpha,
  enumerate numberingiv=roman,
  enumerate labeli punctuation=.,
  enumerate label left=,
  enumerate label right=,
  enumerate leftmargini=2.2em,
  enumerate leftmarginii=2.1em,
  enumerate leftmarginiii=1.5em,
  enumerate leftmarginiv=2em,
  listi topsep=10\p@ \@plus2\p@ \@minus\p@,
  listi itemsep=0\p@ \@plus2\p@ \@minus\p@,
  listi parsep=0\p@ \@plus2\p@ \@minus\p@,
  listi partopsep=0pt plus1pt minus0pt,
  listii topsep=0\p@ \@plus2\p@ \@minus\p@,
  listii itemsep=0\p@ \@plus2\p@ \@minus\p@,
  listii parsep=0\p@ \@plus2\p@ \@minus\p@,
  listiii topsep=0\p@ \@plus2\p@ \@minus\p@,
  listiii itemsep=0\p@ \@plus2\p@ \@minus\p@,
  listiii parsep=0\p@ \@plus2\p@ \@minus\p@,
  listiv topsep=0\p@ \@plus2\p@ \@minus\p@,
  listiv itemsep=0\p@ \@plus2\p@ \@minus\p@,
  listiv parsep=0\p@ \@plus2\p@ \@minus\p@,
}}

\cxset{compact2/.style={%
  enumerate numberingi=Alpha,
  enumerate numberingii=roman,
  enumerate numberingiii=alph,
  enumerate numberingiv=roman,
  enumerate labeli punctuation=,
  enumerate label left=(,
  enumerate label right=),
  enumerate leftmargini=2.2em,
  enumerate leftmarginii=2.1em,
  enumerate leftmarginiii=1.5em,
  enumerate leftmarginiv=0em,
  listi parindent=1em,
  listii parindent=1em,
  listiii parindent=1em,
  listiv parindent=1em,
  listi topsep   = 8\p@ \@plus2\p@ \@minus\p@,
  listi itemsep = 0\p@ \@plus2\p@ \@minus\p@,
  listi parsep   = 0\p@ \@plus2\p@ \@minus\p@,
  listii topsep  = 0\p@ \@plus2\p@ \@minus\p@,
  listii itemsep= 0\p@ \@plus2\p@ \@minus\p@,
  listii parsep  = 0\p@ \@plus2\p@ \@minus\p@,
  listiii topsep = 0\p@ \@plus2\p@ \@minus\p@,
  listiii itemsep= 0\p@ \@plus2\p@ \@minus\p@,
  listiii parsep  = 0\p@ \@plus2\p@ \@minus\p@,
}}

\ExplSyntaxOn
\gdef\setenumerate#1
  {
    \cxset{#1}
      \gdef\@listi{%
            \listparindent\listiparindent@cx
            \leftmargin\leftmargini
            \parsep\listiparsep@cx
            \topsep\listitopsep@cx\relax
            \itemsep\listiitemsep@cx}

      \gdef\@listii{
           \listparindent\listiiparindent@cx
            \leftmargin\leftmarginii
            \parsep\listiiparsep@cx
            \topsep\listiitopsep@cx\relax
            \itemsep\listiiitemsep@cx}

      \gdef\@listiii{
            \listparindent\listiiiparindent@cx
            \leftmargin\leftmarginiii
            \parsep\listiiiparsep@cx
            \topsep\listiiitopsep@cx\relax
            \itemsep\listiiiitemsep@cx}
     \gdef\@listiv{
            \listparindent\listivparindent@cx
            \leftmargin\leftmarginiv
            \parsep\listivparsep@cx
            \topsep\listivtopsep@cx\relax
            \itemsep\listivitemsep@cx}
}

\ExplSyntaxOff

\ExplSyntaxOn
\cxset
  {
     labelitemi/.code     = \cs_set:Npn \labelitemi   { \color{theitemicolor} #1   },
     labelitemii/.code    = \cs_set:Npn \labelitemii  { \color{theitemiicolor} #1  },
     labelitemiii/.code   = \cs_set:Npn \labelitemiii { \color{theitemiiicolor} #1 },
     labelitemiv/.code    = \cs_set:Npn \labelitemiv  { \color{theitemivcolor} #1  },
  }
\ExplSyntaxOff
\def\imgtest{
   \tikz[remember picture,overlay]\node[xshift=0cm, yshift=10pt, below left] (0,0) {\includegraphics[width=\labelwidth]{amato}};
   }
\def\dingpoint{\ding{217}}
\def\dingpointi{\ding{226}}
\def\dingpointii{\ding{229}}
\def\dingpointiii{\ding{110}}

\cxset
  {
    labelitemi    = \imgtest,%\dingpointi,
    labelitemii   = \dingpointi,
    labelitemiii  = $\iiint$,
    labelitemiv   = \textbullet,
  }


\ExplSyntaxOn
\cxset
  {
    description~label~font-size/.fontsize     = l_phd_description_label_fontsize,
    description~label~font-weight/.fontweight = l_phd_description_label_fontweight,
    description~label~font-family/.fontfamily = l_phd_description_label_fontfamily,
    description~label~font-shape/.fontstyle   = l_phd_description_label_fontshape,
    description~label~color/.store            = l_phd_description_label_color,
    description~label~sep/.store              = l_phd_description_label_sep,
    description~label~width/.store            = l_phd_description_label_width,
    description~margin~left/.store            = l_phd_description_margin_left,
    description~margin~right/.store           = l_phd_description_margin_right,
    description~item~indent/.store            = l_phd_description_item_indent,
    list~parindent/.store                     = l_phd_description_list_parindent,
  }
\ExplSyntaxOff
\ExplSyntaxOn
\cs_set:Npn \setdescription #1
  {
    \cxset{#1}%
    \renewenvironment{description}
      {
        \list{}
          {
            \listparindent = \l_phd_description_list_parindent
            \leftmargin    = \l_phd_description_margin_left
            \rightmargin   = \l_phd_description_margin_right
            \itemindent    = \l_phd_description_item_indent
            \labelwidth    = \l_phd_description_label_width
            \labelsep      = \l_phd_description_label_sep
            \cs_set_eq:NN \makelabel \description_label:n
          }
      }
      { \endlist }
    \cs_set:Npn \description_label:n ##1
    {
      \hspace\l_phd_description_label_sep
    {
      \color{\l_phd_description_label_color}%
      \normalfont\bfseries\raggedleft##1\thickspace%
    }
   }
}%
\ExplSyntaxOff
\setdescription{
 description label font-size=normal,
 description label font-weight=bfseries,
 description label font-family=sffamily,
 description label font-shape=upshape,
 description label color=bgsexy,
 description label sep=0sp\relax,
 description label width=100pt,
 description margin left=20pt,
 description margin right=20pt,
 description item indent=90pt,
 list parindent=5em,
}
\ExplSyntaxOn
\NewDocumentCommand \NewDescriptionEnvironment { o m }
  {
    \cxset{#1}
    \newenvironment{#2}
     {\list{}{\listparindent\l_phd_description_list_parindent
                       \leftmargin=\l_phd_description_margin_left
                       \rightmargin=\l_phd_description_margin_right
                       \itemindent\l_phd_description_item_indent
                       \labelwidth\l_phd_description_label_width
                       \labelsep=\l_phd_description_label_sep
                       \let\makelabel\description_label:n}}%
               {\endlist}%
     \cs_set:Npn \description_label:n ##1
       {

         \hspace\l_phd_description_label_sep
         \color{\l_phd_description_label_color}
         \cs_if_exist_use:cTF {l_phd_description_label_fontfamily}{}{family}
         \cs_if_exist_use:cTF {l_phd_description_label_fontweight}{}{weight}
         \cs_if_exist_use:cTF {l_phd_description_label_fontshape}{}{shape}
         \cs_if_exist_use:cTF {l_phd_description_label_fontsize}{}{size}
        \hbox_to_wd:nn \l_phd_description_label_width {\hss##1\hskip0.5em}%
}}%

\ExplSyntaxOff


\def\phd@item[#1]{%
  \if@noitemarg
    \@noitemargfalse
    \if@nmbrlist
      \refstepcounter{\@listctr}%
    \fi
  \fi
  \settowidth{\@tempdima}{#1}%
  \ifdim\@tempdima>\z@
    \makelabel{{#1}}
    \nobreakspace
  \fi
  \ignorespaces
  }
\ExplSyntaxOn
\cs_set:Npn \inparaenum
  {
    \ifnum\@enumdepth>3
      \@toodeep
    \else
      \int_incr:N \@enumdepth
      \cs_set:Npx \@enumctr
         {
           enum\romannumeral\the\@enumdepth
         }
    \fi
    \@ifnextchar[{\@enumlabel@}{\list_in_paragraph_aux:}
}

\cs_set:Npn \list_in_paragraph_aux:
  {
    \usecounter{\@enumctr}
    \cs_set:Npn \@itemlabel
      {
        \cs:w label\@enumctr \cs_end:
      }
    \cs_set_eq:NN \@item \phd@item
    \cs_set:Npn \makelabel ##1 {##1}
    \ignorespaces
  }

\let\endinparaenum\ignorespacesafterend
\ExplSyntaxOff


\endinput
%%
%% End of file `phd-lists.sty'.
