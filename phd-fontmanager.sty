%%
%% This is file `phd-fontmanager.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% phd-fontmanager.dtx  (with options: `FMAN')
%% ----------------------------------------------------------------
%% phd --- A package to beautify documents.
%% E-mail: yannislaz@gmail.com
%% Released under the LaTeX Project Public License v1.3c or later
%% See http://www.latex-project.org/lppl.txt
%% ----------------------------------------------------------------



\NeedsTeXFormat{LaTeX2e}[1994/12/01]%
\RequirePackage[2014/05/01]{latexrelease}
\ProvidesFile{phd-fontmanager}[2015/1/13 v1.0 font management (YL)]%
\RequirePackage{expl3}
\ExplSyntaxOn
\let\set_fontsize\@setfontsize
\cs_set:Npn \textfontnine
{
   \set_fontsize\normalsize {9} {10}
   \abovedisplayskip 10pt \@plus2pt \@minus5pt
   \abovedisplayshortskip \z@ \@plus3pt
   \belowdisplayshortskip 6pt \@plus3pt \@minus3pt
}

\cs_set:Npn \textfontninepointfive
{
   \set_fontsize\normalsize {9.5} {10.5}
   \abovedisplayskip 10pt \@plus2pt \@minus5pt
   \abovedisplayshortskip \z@ \@plus3pt
   \belowdisplayshortskip 6pt \@plus3pt \@minus3pt
}

\cs_set:Npn \textfontten
{
   \set_fontsize\normalsize \c_ten \c_twelve
   \abovedisplayskip 10pt \@plus2pt \@minus5pt
   \abovedisplayshortskip \z@ \@plus3pt
   \belowdisplayshortskip 6pt \@plus3pt \@minus3pt

   \def\small
   {
     \@setfontsize\small\@ixpt{11}%
     \abovedisplayskip 8.5pt \@plus3pt \@minus4pt
     \abovedisplayshortskip \z@ \@plus2pt
     \belowdisplayshortskip 4pt \@plus2pt \@minus2pt
     \def\@listi{\leftmargin\leftmargini
               \topsep 4pt \@plus2pt \@minus2pt
               \parsep 2pt \@pluspt \@minuspt
               \itemsep \parsep}
   }

   \renewcommand\scriptsize{\@setfontsize\scriptsize\@viipt\@viiipt}
   \renewcommand\tiny{\@setfontsize\tiny\c_five\c_six }
   \renewcommand\large{\@setfontsize\large\@xiipt{14}}
   \renewcommand\Large{\@setfontsize\Large\@xivpt{18}}
   \renewcommand\LARGE{\@setfontsize\LARGE\@xviipt{22}}
   \renewcommand\huge{\@setfontsize\huge\@xxpt{25}}
   \renewcommand\Huge{\@setfontsize\Huge\@xxvpt{30}}
   \setlength\parindent{15pt}
 }

\cs_set:Npn \textfonttenpointfive
{
   \set_fontsize\normalsize {10.5} \c_twelve
   \abovedisplayskip 10pt \@plus2pt \@minus5pt
   \abovedisplayshortskip \z@ \@plus3pt
   \belowdisplayshortskip 6pt \@plus3pt \@minus3pt
}

\cs_set:Npn \textfonteleven
  {
    \set_fontsize\normalsize\c_eleven {13.6}
    \abovedisplayskip 11pt plus3pt minus6pt
    \abovedisplayshortskip \z@ \@plus3pt
    \belowdisplayshortskip 6.5pt \@plus3.5pt \@minus3pt

    \renewcommand\scriptsize {\@setfontsize\scriptsize \@viiipt {9.5}  }
    \renewcommand\tiny       {\@setfontsize\tiny       \@vipt  \@viipt }
    \renewcommand\large      {\@setfontsize\large      \@xiipt  {14}   }
    \renewcommand\Large      {\@setfontsize\Large      \@xivpt  {18}   }
    \renewcommand\LARGE      {\@setfontsize\LARGE      \@xviipt {22}   }
    \renewcommand\huge       {\@setfontsize\huge       \@xxpt   {25}   }
    \renewcommand\Huge       {\@setfontsize\Huge       \@xxvpt  {30}   }
    \setlength\parindent{17pt}
  }

\cs_set:Npn \textfonttwelve
 {
   \set_fontsize\normalsize\c_twelve {14.5}%
   \abovedisplayskip 12pt \@plus3pt \@minus7pt
   \abovedisplayshortskip \z@ \@plus3pt
   \belowdisplayshortskip 6.5pt \@plus3.5pt \@minus3pt

   \renewcommand\scriptsize  { \@setfontsize\scriptsize \@viiipt {9.5} }
   \renewcommand\tiny        { \@setfontsize\tiny       \@vipt \@viipt }
   \renewcommand\large       { \@setfontsize\large      \@xivpt  {18}  }
   \renewcommand\Large       { \@setfontsize\Large      \@xviipt {22}  }
   \renewcommand\LARGE       { \@setfontsize\LARGE      \@xxpt   {25}  }
   \renewcommand\huge        { \@setfontsize\huge       \@xxvpt  {30}  }

   \let\Huge=\huge

   \setlength\parindent{1.5em}
 }

\cs_set:Npn \textfontthirteen
 {
   \set_fontsize\normalsize {13} {15.5}%
   \abovedisplayskip 12pt \@plus3pt \@minus7pt
   \abovedisplayshortskip \z@ \@plus3pt
   \belowdisplayshortskip 6.5pt \@plus3.5pt \@minus3pt
 }

\setlength\smallskipamount{3pt \@plus 1pt \@minus 1pt}
\setlength\medskipamount{6pt \@plus 2pt \@minus 2pt}
\setlength\bigskipamount{12pt \@plus 4pt \@minus 4pt}

\ExplSyntaxOff

\ExplSyntaxOn
\cxset
  {
     text~font/.is~choice,
     text~font/9pt/.code      = \let\normalsize\textfontnine\normalsize,
     text~font/9.5pt/.code    = \let\normalsize\textfontninepointfive\normalsize,
     text~font/10pt/.code     = \let\normalsize\textfontten\normalsize,
     text~font/10.5pt/.code   = \let\normalsize\textfonttenpointfive\normalsize,
     text~font/11pt/.code     = \let\normalsize\textfonteleven\normalsize,
     text~font/12pt/.code     = \let\normalsize\textfonttwelve\normalsize,
     text~font/13pt/.code     = \let\normalsize\textfontthirteen\normalsize,
  }
\ExplSyntaxOff
\cxset{text font=12pt}



\ExplSyntaxOn
  \dim_gset:Nn \tex_lineskip:D {1pt}
  \dim_gset:Nn \normallineskip {1pt}
  \cs_gset:Npn \baselinestretch {}
\ExplSyntaxOff
\ExplSyntaxOn
\newskip\phd@baseskip
\newskip\phd@theskip
\def\phd@setskips #1
  {
    \phd@theskip #1\relax%
    \abovedisplayskip      0.50\phd@theskip \@plus 0.25\phd@theskip \@minus 1pt%
    \belowdisplayskip      \abovedisplayskip
    \abovedisplayshortskip 0.25\phd@theskip \@plus 0.25\phd@theskip
    \belowdisplayshortskip 0.50\phd@theskip \@plus 0.25\phd@theskip \@minus 1pt%
  }

\def\phd@setlists#1{\phd@theskip #1\relax%
 \def\@listi{\leftmargin\leftmargini
  \topsep  0.5\phd@theskip \@plus 2pt \@minus 1pt%
  \parsep  \z@
  \itemsep \z@}}
\ExplSyntaxOff
\newcommand{\@viiiptv}{8.5}%                  8.5pt

\DeclareMathSizes{\@viiiptv}{\@viiiptv}{\@vipt}{\@vpt}

\newcommand{\@ixptv}{9.5}%                    9.5pt

\DeclareMathSizes{\@ixptv}{\@ixptv}{\@viipt}{\@vpt}

\newcommand{\@xptv}{10.5}%                    10.5pt (normalsize)

\DeclareMathSizes{\@xptv}{\@xptv}{\@viipt}{\@vpt}

\newcommand{\@xvipt}{16}%                     16pt size

\DeclareMathSizes{\@xvipt}{\@xvipt}{\@xiipt}{\@xpt}

\newcommand{\@xviiipt}{18}%                   18pt size

\DeclareMathSizes{\@xviiipt}{\@xviiipt}{\@xiipt}{\@xpt}

\renewcommand\tiny{\@setfontsize\tiny\@vpt{6}\phd@setskips\phd@setlists}
\renewcommand \footnotesize
  {
    \phd@baseskip 10.5pt%
    \@setfontsize\footnotesize{8pt}{10.5}
    \phd@setskips\phd@setlists
  }
\ExplSyntaxOn
\cs_set:Npn \HHUGE  { \set_fontsize \HHUGE {58}{67}  }
\cs_set:Npn \HHHUGE { \set_fontsize \HHHUGE{94}{105} }

\newcommand\verbatimsize
  {
    \phd@baseskip 13pt%
    \set_fontsize \verbatimsize\@xpt{13} \phd@setskips\phd@setlists
 }
\ExplSyntaxOff

\cxset{document font/.code 2 args=\setmainfont[#2]{#1}}

\def\defaultfontsxetexluatex{%
  \RequirePackage[no-math]{fontspec}

  \setmainfont[
      BoldFont={timesbd.ttf},
      ItalicFont={timesi.ttf},
      BoldItalicFont={timesbi.ttf},
      SmallCapsFont={times.ttf},
                      ]{times.ttf}
 \setsansfont{Tex Gyre Heros}% work okay with palatino
 \setmonofont[Scale=.95]{consola.ttf}
 \newfontfamily\verbatimfamily[Scale=0.95]{consola.ttf}
 \newfontfamily\ttbf[Scale=0.95]{consolab.ttf}
 \DeclareTextFontCommand{\texttt}{\verbatimfamily} %CHANGED
 \newfontfamily\arial{Arial}
 \let\pan\arial
 \let\unicodenumberfam\arial
 \newfontfamily\smallcps[Scale=0.8]{Arial}
 \def\phd@font@times{times.ttf}
}
\ifengine{\defaultfontsxetexluatex}{\defaultfontsxetexluatex}{}
\ifluatex
   \RequirePackage{luaotfload}
   \let\TeXXeTstate\@gobble
   \def\setRTL{\luatextextdir TRT}%\pardir TRT\textdir TRT}
   \def\endLTR{\luatextextdir TLT}%{\pardir TLT\textdir TLT}
   \let\beginR\setRTL
   \let\endR\endLTR
\fi
\endinput
%%
%% End of file `phd-fontmanager.sty'.
