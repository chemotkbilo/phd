\documentclass{article}
\usepackage{fancyvrb}
\begin{document}

\begin{VerbatimOut}{hello.cpp}
#include <fstream>

int main() {
  std::ofstream out;
  out.open("cpp-out.txt");

  out << "Hello World!" << std::endl;

  out.close();
  return 0;
}
\end{VerbatimOut}

\immediate\write18{g++ -o hello hello.cpp}
\immediate\write18{./hello}

\input{cpp-out.txt}

\end{document}