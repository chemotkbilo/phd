% !TEX encoding   = UTF-8
% !TEX program    = LuaLaTeX
% !TEX spellcheck = en_GB
\documentclass{article}
\usepackage{phd}


\begin{document}
Suppose, our initials are $a_{1,0}=0$, $a_{1,1}=1$ and $a_{1,j}=0$ for $j<0$. For given an integer $n$, define
\[
a_{i,j}=%
\begin{cases}
a_{i-1,\frac{j}{2}}                          & \text{ if $j$ è pari},\\
 a_{i-1,\frac{j-1}{2}}+a_{i-1,\frac{j+1}{2}} & \text{ if $j$ è dispari}  
\end{cases}
\]

while $2\leq i \leq n$ and $0\leq j \leq 2^{i-1}$

\noindent
\begin{luacode*}
---------------------------
-- Variables declaration --
---------------------------
local N    = 6
local A    = {}

--------------------
-- Initialization --
--------------------
A[1]    = {}
A[1][0] = 0
A[1][1] = 1

-----------------------------------
-- Computations and tex.printing --
-----------------------------------
tex.print(A[1][0].." "..A[1][0].."\\\\")
for i=2,N do
    A[i] = {}
    for j=0,2^(i-1) do
        if math.ceil(j/2)==math.floor(j/2) then 
            A[i][j] = A[i-1][j/2]
        else
            A[i][j] = A[i-1][(j-1)/2]+A[i-1][(j+1)/2]
        end
        tex.print(A[i][j])
    end
    tex.print("\\\\")
end
\end{luacode*}
% TO TEST
\rule{\textwidth}{1pt}
0 1 1 2 1 3 2 3 1 4 3 5 2 5 3 4 1 5 4 7 3 8 5 7 2 7 5 8 3 7 4 5 1
\end{document}


http://tex.stackexchange.com/questions/42723/how-do-i-create-an-algorithmic-tikz-code-to-obtain-a-list-of-numbers-which-is-co/43044#43044
