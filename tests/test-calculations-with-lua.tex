\documentclass[tikz]{standalone}
\usepackage{luacode}
\begin{document}
\begin{luacode}
local function G (x) 
    return string.format('%  .2f',-(x^2)/3)
end

tex.print('\\begin{tikzpicture}[scale=.1]')
tex.print('\\draw[color=red] (0,0)')

local z=-.1
for i=1,100 do
   tex.sprint('-- (' .. i .. ',' .. G(z)..')  ') 
   z=z+.2
end
tex.sprint(';')
tex.print('\\end{tikzpicture}')
\end{luacode}
\end{document}

% http://tex.stackexchange.com/questions/224671/lua-code-with-tikz/224716#224716
% suggested look at the problem from a different angle.