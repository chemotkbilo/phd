\documentclass{article}
\usepackage{luacode}
\begin{luacode}
function permute(n)
  local tab = {}
  for i = 1, n do tab[i] = i end
  for i = 1, n do
    local j = math.random(i, n)
    tab[i], tab[j] = tab[j], tab[i]
  end
  for i = 1, n do
    tex.print("\\shortstack[r]{"..i.."\\\\"..tostring(tab[i]+25).."} ")
  end
end
\end{luacode}

\begin{document}
\directlua{permute(20)}

\end{document}