%!TEX TS-program = lualatex
\documentclass{article}
\usepackage{luatexbase}
\usepackage{luacode}
\begin{document}

\begin{luacode}
local z = require("i18n.el.territories")
local f = kpse.lookup('./i18n/el/territories', {format = "lua"})

local f = kpse.lookup('./luchia/luchia/luchia/conf', {format = "lua"})
-- success
tex.print("\\par",f)
local cmd = require("cmd")

local luchia = require("luchia")
local csname, def = cmd.csname, cmd.def
csname('test', 'this is a test in csname')

def('test', 'this is a test')
\end{luacode}

\test
\makeatletter
\@test

\textdblbar
\end{document}